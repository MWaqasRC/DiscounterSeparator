(self.webpackChunkEachProductDiscount=self.webpackChunkEachProductDiscount||[]).push([[8385],{8385:(o,i,t)=>{"use strict";t.r(i),t.d(i,{HomePageModule:()=>p});var n=t(1116),e=t(8809),s=t(1462),r=t(3522),c=t(5614);function u(o,i){if(1&o){const o=c.EpF();c.TgZ(0,"div",12),c.TgZ(1,"ion-item"),c.TgZ(2,"ion-label",5),c._uU(3),c.qZA(),c._UZ(4,"ion-input",13),c.qZA(),c.TgZ(5,"ion-item"),c.TgZ(6,"ion-label"),c.TgZ(7,"ion-button",14),c.NdJ("click",function(){const i=c.CHM(o).index;return c.oxw().deleteItem(i)}),c._UZ(8,"ion-icon",15),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&o){const o=i.index,t=c.oxw();c.xp6(3),c.hij("Item # ",o+1," Amount"),c.xp6(1),c.Q6J("formControlName",o),c.xp6(3),c.Q6J("disabled",t.items.length<=2)}}function l(o,i){1&o&&(c.TgZ(0,"span"),c._uU(1,"Submit"),c.qZA())}function Z(o,i){1&o&&(c.TgZ(0,"span"),c._UZ(1,"ion-spinner"),c.qZA())}function g(o,i){if(1&o&&(c.TgZ(0,"ion-item"),c.TgZ(1,"ion-label"),c.TgZ(2,"ion-grid"),c.TgZ(3,"ion-row"),c.TgZ(4,"ion-col",16),c._uU(5),c.qZA(),c.TgZ(6,"ion-col",17),c._uU(7),c.qZA(),c.TgZ(8,"ion-col",17),c._uU(9),c.qZA(),c.TgZ(10,"ion-col",17),c._uU(11),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&o){const o=i.$implicit,t=i.index;c.xp6(5),c.hij(" ",t+1," "),c.xp6(2),c.hij(" ",o.price," "),c.xp6(2),c.hij(" ",o.discount," "),c.xp6(2),c.hij(" ",(o.price-o.discount).toFixed(2)," ")}}function a(o,i){if(1&o&&(c.TgZ(0,"ion-list"),c.TgZ(1,"ion-item"),c.TgZ(2,"ion-label"),c.TgZ(3,"ion-grid"),c.TgZ(4,"ion-row"),c.TgZ(5,"ion-col",16),c._uU(6," No. "),c.qZA(),c.TgZ(7,"ion-col",17),c._uU(8," Amount "),c.qZA(),c.TgZ(9,"ion-col",17),c._uU(10," Discount "),c.qZA(),c.TgZ(11,"ion-col",17),c._uU(12," Price "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(13,g,12,4,"ion-item",18),c.TgZ(14,"ion-item"),c.TgZ(15,"ion-label"),c.TgZ(16,"ion-grid"),c.TgZ(17,"ion-row"),c.TgZ(18,"ion-col",16),c._uU(19," Total "),c.qZA(),c.TgZ(20,"ion-col",17),c._uU(21),c.qZA(),c.TgZ(22,"ion-col",17),c._uU(23),c.qZA(),c.TgZ(24,"ion-col",17),c._uU(25),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&o){const o=c.oxw();c.xp6(13),c.Q6J("ngForOf",o.rows),c.xp6(8),c.hij(" ",o.total," "),c.xp6(2),c.hij(" ",o.discount.value," "),c.xp6(2),c.hij(" ",(o.total-o.discount.value).toFixed(2)," ")}}const m=[{path:"",component:(()=>{class o{constructor(o,i){this.fb=o,this.ref=i,this.formGroup=this.fb.group({items:this.fb.array([this.fb.control(""),this.fb.control("")]),discount:["",s.kI.required]}),this.rows=[]}get items(){return this.formGroup.get("items")}get discount(){return this.formGroup.get("discount")}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.formGroup.valueChanges.subscribe(()=>{this.rows=[],this.ref.detectChanges()})},0)}getDiscount(){this.loading=!0,this.total=this.items.value.reduce(function(o,i){return o+i},0),this.items.value.forEach(o=>{this.getDisc(o),this.rows.push({price:o.toFixed(2),discount:this.getDisc(o).toFixed(2)})}),this.loading=!1}addItem(){this.items.push(this.fb.control(""))}deleteItem(o){console.log(o),this.items.removeAt(o),this.formGroup.valid&&this.getDiscount()}getDisc(o){var i=o*this.discount.value/this.total;return i<0?0:i}}return o.\u0275fac=function(i){return new(i||o)(c.Y36(s.qu),c.Y36(c.sBO))},o.\u0275cmp=c.Xpm({type:o,selectors:[["app-home"]],decls:19,vars:8,consts:[[3,"translucent"],[3,"fullscreen"],[3,"formGroup","ngSubmit"],["formArrayName","items"],["class","amount-item",4,"ngFor","ngForOf"],["position","floating"],["placeholder","Discount","required","","type","number","formControlName","discount"],["type","submit","color","primary",3,"disabled"],[4,"ngIf"],["horizontal","end","vertical","bottom","slot","fixed",3,"click"],["color","primary"],["name","add"],[1,"amount-item"],["placeholder","Item","required","","type","number",3,"formControlName"],["fill","clear",3,"disabled","click"],["name","close-outline"],["size","2"],["size","3"],[4,"ngFor","ngForOf"]],template:function(o,i){1&o&&(c.TgZ(0,"ion-header",0),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-title"),c._uU(3," Each Product Discount"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(4,"ion-content",1),c.TgZ(5,"form",2),c.NdJ("ngSubmit",function(){return i.getDiscount()}),c.TgZ(6,"ion-list",3),c.YNc(7,u,9,3,"div",4),c.qZA(),c.TgZ(8,"ion-item"),c.TgZ(9,"ion-label",5),c._uU(10,"Total Discount"),c.qZA(),c._UZ(11,"ion-input",6),c.qZA(),c.TgZ(12,"ion-button",7),c.YNc(13,l,2,0,"span",8),c.YNc(14,Z,2,0,"span",8),c.qZA(),c.qZA(),c.YNc(15,a,26,4,"ion-list",8),c.TgZ(16,"ion-fab",9),c.NdJ("click",function(){return i.addItem()}),c.TgZ(17,"ion-fab-button",10),c._UZ(18,"ion-icon",11),c.qZA(),c.qZA(),c.qZA()),2&o&&(c.Q6J("translucent",!0),c.xp6(4),c.Q6J("fullscreen",!0),c.xp6(1),c.Q6J("formGroup",i.formGroup),c.xp6(2),c.Q6J("ngForOf",i.items.controls),c.xp6(5),c.Q6J("disabled",!i.formGroup.valid),c.xp6(1),c.Q6J("ngIf",!i.loading),c.xp6(1),c.Q6J("ngIf",i.loading),c.xp6(1),c.Q6J("ngIf",i.rows.length))},directives:[e.Gu,e.sr,e.wd,e.W2,s._Y,s.JL,s.sg,e.q_,s.CE,n.sg,e.Ie,e.Q$,e.pK,e.as,s.Q7,s.JJ,s.u,e.YG,n.O5,e.IJ,e.W4,e.gu,e.PQ,e.jY,e.Nd,e.wI],styles:[".amount-item[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.amount-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:first-child{flex:1}"]}),o})()}];let d=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[r.Bz.forChild(m)],r.Bz]}),o})(),p=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[n.ez,s.u5,s.UX,e.Pc,d]]}),o})()}}]);